@import "/css/general.css";

@layer general, utility, components;

@layer utility {
    .grid-row {
        display: grid;
        grid-auto-flow: row;
    }
}

@layer components {

    html,
    body {
        height: 100%;
        margin: 0;
    }

    #main {
        display: flex;
        flex-direction: column;
        height: 100%;

        #main-ui {
            overflow: auto;
            flex-grow: 1;

            display: grid;

            @media (width >=800px) {
                grid-template-areas:
                    "form form form"
                    "sidebar main main";
                grid-template-columns: 1fr 2.2fr;
            }

            @media (width < 800px) {
                grid-template-rows: 1fr 1fr 3fr;
                grid-template-areas:
                    "form form form"
                    "sidebar sidebar sidebar"
                    "main main main";

            }

            #sidebar-form {
                grid-area: form
            }

            #entry-output {
                grid-area: main;
            }

            .sidebar {
                grid-area: sidebar;
                overflow: auto auto;
            }

            .sidebar--items {
                display: flex;
                width: clamp(200px, 35vw, 35vw);
                flex-direction: column;

                min-height: 10vh;
                max-height: 83%;

                max-width: 30vw;

                float: left;

                padding: 0;
            }
        }
    }

    @media (width < 800px) {
        #main {
            #main-ui {
                position: relative;

                .sidebar {
                    overflow: auto auto;

                    :not(.sidebar--items) {
                        position: sticky;
                        left: 0;
                    }
                }

                .sidebar--items {
                    grid-column: 1 / -1;
                    flex-direction: row;
                    min-width: fit-content;
                    min-height: 100%;
                }
            }
        }
    }
}
