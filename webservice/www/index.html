<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="/css/index.css">
</head>

<body data-loading>
    <header>
        <h1 style="text-align: center;">Welcome to the AIO LIMAS</h1>
    </header>
    <main>
        <nav>
            <!-- <h2>Collections</h2> -->
            <!-- <section id="collections"></section> -->
            <!-- <h2>All</h2> -->
            <dialog id="new-item" popover>
                <h3>New Entry</h3>
                <form id="new-item-form" action="javascript:newEntry()">
                    <input type="text" placeholder="title" name="title" required>
                    <input type="text" placeholder="native title" name="native-title">
                    <input type="text" placeholder="location" name="location">
                    <label>Price <input type="number" min="0" step="0.01" name="price"></label>
                    <br>
                    <section>
                        <select name="type" title="The type of media">
                            <option value="">Type</option>
                            <option value="Show">Show</option>
                            <option value="Movie">Movie</option>
                            <option value="Manga">Manga</option>
                            <option value="Book">Book</option>
                            <option value="Game">Game</option>
                            <option value="Song">Song</option>
                            <option value="BoardGame">BoardGame</option>
                            <option value="Collection">Collection</option>
                        </select>
                        <label for="is-anime">anime?: <input type="checkbox" id="is-anime" name="is-anime"></label>
                    </section>
                    <section>
                        <select name="format" required title="Format type">
                            <option value="0">VHS</option>
                            <option value="1">CD</option>
                            <option value="2">DVD</option>
                            <option value="3">Blu Ray</option>
                            <option value="4">4k Blu Ray</option>
                            <option value="5">Manga</option>
                            <option value="6">Book</option>
                            <option value="7">Digital</option>
                            <option value="8">Board Game</option>
                            <option value="9">Steam</option>
                            <option value="10">Nintendo Switch</option>
                            <option value="11">Xbox One</option>
                            <option value="12">Xbox 360</option>
                            <option value="13">Other</option>
                        </select>
                        <label for="is-digital">digital? <input type="checkbox" id='is-digital'
                                name="is-digital"></label>
                    </section>
                    <input type="text" placeholder="tags (',' separated)" name="tags" value="">
                    <section>
                        <input type="text" placeholder="parent id" name="parentId">
                        <input type="text" placeholder="copy of id" name="copyOf">
                    </section>
                    <input type="submit" value="CREATE!">
                </form>
            </dialog>
        </nav>
        <div id="search-entry">
            <ul id="total-stats">
            </ul>
            <form action="javascript:queryLite()" id="query-lite">
                <input type="text" placeholder="Query" name="title" required>
                <input type="submit" value="Search">
            </form>
            <button popovertarget="search-dialog">Advanced Search</button>
            <input-group>
                <label title="display children"><input type="checkbox" onchange="toggleHiddenTypes()" id="toggle-children" name="children">children</label>
                <label title="display copies"><input type="checkbox" onchange="toggleHiddenTypes()" id="toggle-copies" name="copies">copies</label>
            </input-group>
            <dialog popover id="search-dialog">
                <h3>Welcome to search hell</h3>
                <form id="query" action="javascript:query()">
                    <input-group class="flex-row flex-wrap">
                        <input type="search" name="query" placeholder="title">
                        <input type="text" name="tags" placeholder="tags (',' separated)">
                        <input-group>
                            <input type="number" step="0.1" name="user-rating-gt" placeholder="rating ‚¨Ü">
                            <input type="number" step="0.1" name="user-rating-lt" placeholder="rating ‚¨á">
                        </input-group>
                        <input-group>
                            <input type="number" step="0.1" name="purchase-price-gt" placeholder="price ‚¨Ü">
                            <input type="number" step="0.1" name="purchase-price-lt" placeholder="price ‚¨á">
                        </input-group>
                    </input-group>
                    <input-group class="flex-row">
                        <div class="select-figure">
                            <h4>Format</h4>
                            <select name="format" multiple>
                                <option value="0">VHS</option>
                                <option value="1">CD</option>
                                <option value="2">DVD</option>
                                <option value="3">Blu Ray</option>
                                <option value="4">4k Blu Ray</option>
                                <option value="5">Manga</option>
                                <option value="6">Book</option>
                                <option value="7">Digital</option>
                                <option value="8">Board Game</option>
                                <option value="9">Steam</option>
                                <option value="10">Nintendo Switch</option>
                                <option value="11">Xbox One</option>
                                <option value="12">Xbox 360</option>
                                <option value="13">Other</option>
                            </select>
                        </div>
                        <div class="select-figure">
                            <h4>Type</h4>
                            <select name="type" multiple>
                                <option value="Show">Show</option>
                                <option value="Movie">Movie</option>
                                <option value="Manga">Manga</option>
                                <option value="Book">Book</option>
                                <option value="Game">Game</option>
                                <option value="Song">Song</option>
                                <option value="BoardGame">BoardGame</option>
                                <option value="Collection">Collection</option>
                            </select>
                        </div>
                        <div class="select-figure">
                            <h4>Status</h4>
                            <select name="status" multiple>
                                <option value="Viewing">Viewing</option>
                                <option value="Finished">Finished</option>
                                <option value="Dropped">Dropped</option>
                                <option value="Planned">Planned</option>
                                <option value="ReViewing">ReViewing</option>
                                <option value="Paused">Paused</option>
                            </select>
                        </div>
                    </input-group>
                    <input type="submit" value="Locate!">
                </form>
            </dialog>
            <button class="add-item" popovertarget="new-item" title="new item">New</button>
        </div>
        <section id="all-entries">
        </section>

    </main>

    <template id="item-entry">
        <div class="entry">
            <dialog popover id="edit-entry">
                TODO
            </dialog>
            <dialog popover class="identify-entry">
                <form action="javascript:void 0">
                    <label>
                        Provider
                        <select name="provider">
                            <option value="anilist">Anilist</option>
                        </select>
                    </label>
                    <br>
                    <input type="text" placeholder="Title" name="title" title="Title to search for">
                    <input type="submit" value="IDENTIFY!">
                </form>
                <div class="results">
                </div>
            </dialog>
            <img src="/no-img" class="img">
            <section class="header">
                <div class="entry-actions">
                    <button class="identifier" title="Identify entry">‚Ñπ</button>
                    <button class="editor" popovertarget="edit-entry">‚úè</button>
                    <button class="meta-fetcher" title="refresh metadata">‚ü≥</button>
                    <button class="deleter" title="delete entry">üóë</button>
                </div>
                <h3 class="name"><a class="location"></a></h3>
                <span class="rating"></span>
                <span class="cost"></span>
            </section>
            <section class="actions">
                <button onclick="mediaAction(this, 'plan')" title="plan">üóì</button>
                <button onclick="beginMedia(this)" title="begin">‚ñ∂</button>
                <button onclick="endMedia(this)" title="finish">üèÅ</button>
                <button onclick="mediaAction(this, 'drop')" title="drop">‚èπ</button>
                <button onclick="mediaAction(this, 'pause')" title="pause">‚è∏</button>
                <button onclick="mediaAction(this, 'resume')" title="resume">‚è©</button>
            </section>
            <section class="middle">
                <details>
                    <summary>Description</summary>
                    <span class="description"></span>
                </details>
                <hr style="width: 100%; border-style: dashed; border-color: var(--accent-color)">
                <span class="tags"></span>
                <span class="notes"></span>
            </section>
            <a hidden class="parent">parent</a>
            <details hidden>
                <summary>Children</summary>
                <ul class="children">
                </ul>
            </details>
            <details hidden>
                <summary>Copies</summary>
                <ul class="copies"></ul>
            </details>
            <details class="basic-info">
                <summary>
                    Basic info
                </summary>
                <ul>
                </ul>
            </details>
            <details class="user-info">
                <summary>User info</summary>
                <ul>
                </ul>
            </details>
            <details class="metadata-info">
                <summary>Metadata info</summary>
                <ul></ul>
            </details>
            <table class="event-table">
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </template>

    <script src="/js/globals.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/index.js"></script>
    <script src="/js/actions.js"></script>
    <script src="/js/templates.js"></script>
</body>

</html>
